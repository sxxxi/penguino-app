


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > HomeScreenKt</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.penguino.ui.screens</a>
</div>

<h1>Coverage Summary for Class: HomeScreenKt (com.penguino.ui.screens)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">HomeScreenKt</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/121)
  </span>
</td>
</tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCard$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCard$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/35)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCard$3</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$1$2$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$1$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$1$3$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$1$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$1$5$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyCardMenuButton$2</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyList$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyList$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyList$2$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$BuddyList$3</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/16)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$3$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$3$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$3$1$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$5$3$1$1$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$6</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$hideProfile$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$profileVisibility$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$profileVisible$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$HomePage$showProfile$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$PreviewHomeScreen$1</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileCard$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileCard$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileCard$3$1$2$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileCard$3$1$2$2$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileCard$4</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileOverlay$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileOverlay$2$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileOverlay$2$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileOverlay$2$1$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">HomeScreenKt$ProfileOverlay$3</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/50)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/239)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.penguino.ui.screens
&nbsp;
&nbsp;import androidx.compose.animation.AnimatedVisibility
&nbsp;import androidx.compose.animation.core.tween
&nbsp;import androidx.compose.animation.fadeIn
&nbsp;import androidx.compose.animation.fadeOut
&nbsp;import androidx.compose.animation.scaleIn
&nbsp;import androidx.compose.animation.scaleOut
&nbsp;import androidx.compose.foundation.ExperimentalFoundationApi
&nbsp;import androidx.compose.foundation.background
&nbsp;import androidx.compose.foundation.border
&nbsp;import androidx.compose.foundation.gestures.detectTapGestures
&nbsp;import androidx.compose.foundation.layout.Arrangement
&nbsp;import androidx.compose.foundation.layout.Box
&nbsp;import androidx.compose.foundation.layout.Column
&nbsp;import androidx.compose.foundation.layout.PaddingValues
&nbsp;import androidx.compose.foundation.layout.Row
&nbsp;import androidx.compose.foundation.layout.Spacer
&nbsp;import androidx.compose.foundation.layout.fillMaxSize
&nbsp;import androidx.compose.foundation.layout.fillMaxWidth
&nbsp;import androidx.compose.foundation.layout.height
&nbsp;import androidx.compose.foundation.layout.heightIn
&nbsp;import androidx.compose.foundation.layout.padding
&nbsp;import androidx.compose.foundation.layout.size
&nbsp;import androidx.compose.foundation.layout.width
&nbsp;import androidx.compose.foundation.shape.RoundedCornerShape
&nbsp;import androidx.compose.material.icons.Icons
&nbsp;import androidx.compose.material.icons.filled.Add
&nbsp;import androidx.compose.material.icons.filled.MoreVert
&nbsp;import androidx.compose.material3.Button
&nbsp;import androidx.compose.material3.DropdownMenu
&nbsp;import androidx.compose.material3.DropdownMenuItem
&nbsp;import androidx.compose.material3.ExperimentalMaterial3Api
&nbsp;import androidx.compose.material3.Icon
&nbsp;import androidx.compose.material3.IconButton
&nbsp;import androidx.compose.material3.MaterialTheme
&nbsp;import androidx.compose.material3.Scaffold
&nbsp;import androidx.compose.material3.Text
&nbsp;import androidx.compose.runtime.Composable
&nbsp;import androidx.compose.runtime.getValue
&nbsp;import androidx.compose.runtime.mutableStateOf
&nbsp;import androidx.compose.runtime.remember
&nbsp;import androidx.compose.runtime.rememberCoroutineScope
&nbsp;import androidx.compose.runtime.saveable.rememberSaveable
&nbsp;import androidx.compose.runtime.setValue
&nbsp;import androidx.compose.ui.Alignment
&nbsp;import androidx.compose.ui.Modifier
&nbsp;import androidx.compose.ui.draw.clip
&nbsp;import androidx.compose.ui.graphics.Color
&nbsp;import androidx.compose.ui.input.pointer.pointerInput
&nbsp;import androidx.compose.ui.res.painterResource
&nbsp;import androidx.compose.ui.text.TextStyle
&nbsp;import androidx.compose.ui.text.font.FontWeight
&nbsp;import androidx.compose.ui.tooling.preview.Preview
&nbsp;import androidx.compose.ui.unit.dp
&nbsp;import com.penguino.R
&nbsp;import com.penguino.data.models.PetInformation
&nbsp;import com.penguino.data.utils.EpochFactory
&nbsp;import com.penguino.ui.components.ConfirmationAlert
&nbsp;import com.penguino.ui.components.CustomCard
&nbsp;import com.penguino.ui.components.ListComponent
&nbsp;import com.penguino.ui.components.ListComponentHeader
&nbsp;import com.penguino.ui.components.PetPic
&nbsp;import com.penguino.ui.theme.PenguinoTheme
&nbsp;import com.penguino.ui.viewmodels.HomeViewModel.HomeUiState
&nbsp;import kotlinx.coroutines.delay
&nbsp;import kotlinx.coroutines.launch
&nbsp;import java.time.Month
&nbsp;import java.util.Calendar
&nbsp;
&nbsp;// TODO: TOP BAR!!!
&nbsp;@OptIn(ExperimentalMaterial3Api::class)
&nbsp;@Composable
&nbsp;fun HomePage(
<b class="nc">&nbsp;	uiState: HomeUiState = HomeUiState(),</b>
<b class="nc">&nbsp;	onNavigateToScan: () -&gt; Unit = {},</b>
<b class="nc">&nbsp;	onPetDelete: (String) -&gt; Unit = {},</b>
<b class="nc">&nbsp;	setViewablePet: (PetInformation?) -&gt; Unit = {},</b>
<b class="nc">&nbsp;	onNavigateToRemoteControl: (String) -&gt; Unit = {}</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;	var profileVisibility by rememberSaveable {</b>
<b class="nc">&nbsp;		mutableStateOf(false)</b>
&nbsp;	}
<b class="nc">&nbsp;	val profileVisible = rememberSaveable(uiState.focusedPet) {</b>
<b class="nc">&nbsp;		uiState.focusedPet != null</b>
&nbsp;	}
<b class="nc">&nbsp;	val scope = rememberCoroutineScope()</b>
&nbsp;
&nbsp;	fun showProfile(pet: PetInformation?) {
<b class="nc">&nbsp;		scope.launch {</b>
<b class="nc">&nbsp;			setViewablePet(pet)</b>
<b class="nc">&nbsp;			delay(100)</b>
<b class="nc">&nbsp;			profileVisibility = true</b>
&nbsp;		}
&nbsp;	}
&nbsp;
&nbsp;	fun hideProfile() {
<b class="nc">&nbsp;		scope.launch {</b>
<b class="nc">&nbsp;			profileVisibility = false</b>
<b class="nc">&nbsp;			delay(100)</b>
<b class="nc">&nbsp;			setViewablePet(null)</b>
&nbsp;		}
&nbsp;	}
&nbsp;
<b class="nc">&nbsp;	Scaffold(</b>
<b class="nc">&nbsp;		modifier = Modifier</b>
<b class="nc">&nbsp;			.fillMaxSize()</b>
<b class="nc">&nbsp;			.background(MaterialTheme.colorScheme.background),</b>
<b class="nc">&nbsp;	) { padding -&gt;</b>
<b class="nc">&nbsp;		Column(</b>
<b class="nc">&nbsp;			modifier = Modifier</b>
<b class="nc">&nbsp;				.fillMaxSize()</b>
<b class="nc">&nbsp;				.padding(horizontal = 16.dp)</b>
<b class="nc">&nbsp;				.padding(padding),</b>
<b class="nc">&nbsp;			horizontalAlignment = Alignment.CenterHorizontally,</b>
<b class="nc">&nbsp;			verticalArrangement = Arrangement.Center</b>
&nbsp;		) {
<b class="nc">&nbsp;			BuddyList(</b>
<b class="nc">&nbsp;				buddies = uiState.savedDevices,</b>
<b class="nc">&nbsp;				onPetDelete = onPetDelete,</b>
<b class="nc">&nbsp;				onPetAdd = onNavigateToScan,</b>
<b class="nc">&nbsp;				onPetClicked = { showProfile(it) }</b>
&nbsp;			)
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		ProfileOverlay(</b>
<b class="nc">&nbsp;			visible = profileVisibility,</b>
<b class="nc">&nbsp;			onDismiss = { hideProfile() }</b>
<b class="nc">&nbsp;		) {</b>
<b class="nc">&nbsp;			uiState.focusedPet?.let { pet -&gt;</b>
<b class="nc">&nbsp;				AnimatedVisibility(</b>
<b class="nc">&nbsp;					visible = profileVisibility,</b>
<b class="nc">&nbsp;					enter = scaleIn(),</b>
<b class="nc">&nbsp;					exit = scaleOut()</b>
&nbsp;//					enter = slideInHorizontally(),
&nbsp;//					exit = slideOutHorizontally()
<b class="nc">&nbsp;				) {</b>
<b class="nc">&nbsp;					ProfileCard(</b>
<b class="nc">&nbsp;						modifier = Modifier.background(Color.Black)</b>
<b class="nc">&nbsp;							.pointerInput(Unit) {</b>
<b class="nc">&nbsp;								detectTapGestures {</b>
<b class="nc">&nbsp;								}</b>
&nbsp;							},
<b class="nc">&nbsp;						selectedPet = pet,</b>
<b class="nc">&nbsp;						onDismiss = ::hideProfile,</b>
<b class="nc">&nbsp;						onPlayClicked = { onNavigateToRemoteControl(pet.address) }</b>
&nbsp;					)
&nbsp;				}
<b class="nc">&nbsp;			}</b>
<b class="nc">&nbsp;		}</b>
&nbsp;	}
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
&nbsp;fun ProfileCard(
<b class="nc">&nbsp;	modifier: Modifier = Modifier,</b>
&nbsp;	selectedPet: PetInformation,
&nbsp;	onDismiss: () -&gt; Unit,
<b class="nc">&nbsp;	onPlayClicked: () -&gt; Unit = {},</b>
<b class="nc">&nbsp;	onChatClicked: () -&gt; Unit = {}</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;	Box(</b>
<b class="nc">&nbsp;		modifier = Modifier</b>
<b class="nc">&nbsp;			.fillMaxWidth(0.8f)</b>
<b class="nc">&nbsp;			.heightIn(min = 200.dp, max = 500.dp)</b>
<b class="nc">&nbsp;			.clip(RoundedCornerShape(15.dp))</b>
<b class="nc">&nbsp;			.then(modifier)</b>
&nbsp;	) {
<b class="nc">&nbsp;		Column(</b>
<b class="nc">&nbsp;			modifier = Modifier</b>
<b class="nc">&nbsp;				.background(MaterialTheme.colorScheme.background)</b>
<b class="nc">&nbsp;				.padding(16.dp),</b>
<b class="nc">&nbsp;			horizontalAlignment = Alignment.CenterHorizontally,</b>
<b class="nc">&nbsp;			verticalArrangement = Arrangement.Center</b>
&nbsp;		) {
<b class="nc">&nbsp;			Spacer(modifier = Modifier.height(16.dp))</b>
<b class="nc">&nbsp;			Row(</b>
<b class="nc">&nbsp;				horizontalArrangement = Arrangement.spacedBy(16.dp)</b>
&nbsp;			) {
<b class="nc">&nbsp;				PetPic(</b>
<b class="nc">&nbsp;					modifier = Modifier.size(88.dp),</b>
<b class="nc">&nbsp;					image = selectedPet.pfp</b>
&nbsp;				)
<b class="nc">&nbsp;				Column {</b>
<b class="nc">&nbsp;					Text(</b>
<b class="nc">&nbsp;						text = selectedPet.name,</b>
<b class="nc">&nbsp;						style = MaterialTheme.typography.headlineLarge +</b>
<b class="nc">&nbsp;								TextStyle(</b>
<b class="nc">&nbsp;									color = MaterialTheme.colorScheme.onBackground,</b>
<b class="nc">&nbsp;									fontWeight = FontWeight.Bold</b>
&nbsp;								)
&nbsp;					)
<b class="nc">&nbsp;					Text(</b>
<b class="nc">&nbsp;						text = &quot;Dev: ${selectedPet.address}&quot;,</b>
<b class="nc">&nbsp;						style = MaterialTheme.typography.titleSmall +</b>
<b class="nc">&nbsp;								TextStyle(</b>
<b class="nc">&nbsp;									color = MaterialTheme.colorScheme.onBackground</b>
&nbsp;								)
&nbsp;					)
&nbsp;
<b class="nc">&nbsp;					val cal = remember { EpochFactory.epochToCalendar(selectedPet.birthDay) }</b>
&nbsp;
<b class="nc">&nbsp;					Text(</b>
<b class="nc">&nbsp;						text = &quot;Added: ${cal.get(Calendar.MONTH)}/${cal.get(Calendar.MONTH)}/${</b>
<b class="nc">&nbsp;							cal.get(</b>
<b class="nc">&nbsp;								Calendar.YEAR</b>
&nbsp;							)
&nbsp;						}&quot;,
<b class="nc">&nbsp;						style = MaterialTheme.typography.titleSmall +</b>
<b class="nc">&nbsp;								TextStyle(</b>
<b class="nc">&nbsp;									color = MaterialTheme.colorScheme.onBackground</b>
&nbsp;								)
&nbsp;					)
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;			}</b>
&nbsp;
<b class="nc">&nbsp;			Row(</b>
<b class="nc">&nbsp;				modifier = Modifier</b>
<b class="nc">&nbsp;					.fillMaxWidth()</b>
<b class="nc">&nbsp;					.padding(top = 16.dp, bottom = 8.dp),</b>
<b class="nc">&nbsp;				horizontalArrangement = Arrangement.Center</b>
&nbsp;			) {
<b class="nc">&nbsp;				Button(onClick = {</b>
<b class="nc">&nbsp;					onPlayClicked()</b>
<b class="nc">&nbsp;					onDismiss()</b>
&nbsp;				}) {
&nbsp;					Text(text = &quot;Play&quot;)
&nbsp;				}
<b class="nc">&nbsp;				Spacer(modifier = Modifier.width(16.dp))</b>
<b class="nc">&nbsp;				Button(onClick = {</b>
<b class="nc">&nbsp;					onChatClicked()</b>
<b class="nc">&nbsp;					onDismiss()</b>
&nbsp;				}) {
&nbsp;					Text(text = &quot;Chat&quot;)
&nbsp;				}
<b class="nc">&nbsp;			}</b>
<b class="nc">&nbsp;		}</b>
<b class="nc">&nbsp;	}</b>
&nbsp;}
&nbsp;
&nbsp;@OptIn(ExperimentalFoundationApi::class)
&nbsp;@Composable
&nbsp;private fun BuddyList(
&nbsp;	buddies: List&lt;PetInformation&gt;,
&nbsp;	onPetDelete: (String) -&gt; Unit,
&nbsp;	onPetAdd: () -&gt; Unit,
&nbsp;	onPetClicked: (PetInformation?) -&gt; Unit,
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;	ListComponentHeader(text = &quot;Pets&quot;) {</b>
<b class="nc">&nbsp;		IconButton(onClick = onPetAdd) {</b>
&nbsp;			Icon(
&nbsp;				modifier = Modifier.size(20.dp),
&nbsp;				imageVector = Icons.Default.Add,
&nbsp;				contentDescription = &quot;Add buddy&quot;
&nbsp;			)
<b class="nc">&nbsp;		}</b>
&nbsp;	}
<b class="nc">&nbsp;	ListComponent(</b>
<b class="nc">&nbsp;		listItems = buddies,</b>
&nbsp;		onListEmpty = {
&nbsp;			Text(
&nbsp;				modifier = Modifier.fillMaxWidth(),
&nbsp;				text = &quot;No devices found&quot;,
&nbsp;				style = MaterialTheme.typography.titleLarge + TextStyle(
&nbsp;					fontWeight = FontWeight.Bold,
&nbsp;					color = MaterialTheme.colorScheme.surfaceVariant
&nbsp;				)
&nbsp;			)
&nbsp;		}
<b class="nc">&nbsp;	) { info -&gt;</b>
<b class="nc">&nbsp;		BuddyCard(</b>
<b class="nc">&nbsp;			modifier = Modifier</b>
<b class="nc">&nbsp;				.padding(4.dp)</b>
<b class="nc">&nbsp;				.animateItemPlacement(),</b>
<b class="nc">&nbsp;			buddy = info,</b>
<b class="nc">&nbsp;			onPetDelete = onPetDelete,</b>
<b class="nc">&nbsp;			onClick = { onPetClicked(info) }</b>
&nbsp;		)
&nbsp;	}
&nbsp;}
&nbsp;
&nbsp;@Composable
&nbsp;private fun BuddyCard(
<b class="nc">&nbsp;	modifier: Modifier = Modifier,</b>
&nbsp;	buddy: PetInformation,
&nbsp;	onPetDelete: (String) -&gt; Unit,
&nbsp;	onClick: () -&gt; Unit,
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;	val cornerRadius = remember {</b>
<b class="nc">&nbsp;		RoundedCornerShape(15.dp)</b>
&nbsp;	}
<b class="nc">&nbsp;	CustomCard(</b>
<b class="nc">&nbsp;		modifier = Modifier</b>
<b class="nc">&nbsp;			.then(modifier)</b>
<b class="nc">&nbsp;			.clip(cornerRadius),</b>
<b class="nc">&nbsp;		onClick = { onClick() }</b>
<b class="nc">&nbsp;	) {</b>
<b class="nc">&nbsp;		Row(</b>
<b class="nc">&nbsp;			modifier = Modifier</b>
<b class="nc">&nbsp;				.fillMaxWidth()</b>
&nbsp;		) {
<b class="nc">&nbsp;			PetPic(</b>
<b class="nc">&nbsp;				modifier = Modifier</b>
<b class="nc">&nbsp;					.border(</b>
<b class="nc">&nbsp;						width = 2.dp,</b>
<b class="nc">&nbsp;						color = MaterialTheme.colorScheme.surfaceVariant,</b>
<b class="nc">&nbsp;						shape = RoundedCornerShape(100)</b>
&nbsp;					)
<b class="nc">&nbsp;					.size(76.dp),</b>
<b class="nc">&nbsp;				image = buddy.pfp,</b>
<b class="nc">&nbsp;				containerPadding = PaddingValues(horizontal = 24.dp, vertical = 12.dp)</b>
&nbsp;			)
&nbsp;
<b class="nc">&nbsp;			Column(</b>
<b class="nc">&nbsp;				modifier = Modifier.padding(vertical = 16.dp)</b>
&nbsp;			) {
&nbsp;				// Name
<b class="nc">&nbsp;				Text(</b>
<b class="nc">&nbsp;					text = buddy.name,</b>
<b class="nc">&nbsp;					style = MaterialTheme.typography.headlineMedium +</b>
<b class="nc">&nbsp;							TextStyle(fontWeight = FontWeight.Bold)</b>
&nbsp;				)
&nbsp;
&nbsp;				// Birthday info
<b class="nc">&nbsp;				Row(horizontalArrangement = Arrangement.spacedBy(2.dp)) {</b>
<b class="nc">&nbsp;					val calendar = remember { EpochFactory.epochToCalendar(buddy.birthDay) }</b>
<b class="nc">&nbsp;					Icon(</b>
<b class="nc">&nbsp;						modifier = Modifier.size(16.dp),</b>
<b class="nc">&nbsp;						painter = painterResource(id = R.drawable.birthday_cake),</b>
<b class="nc">&nbsp;						contentDescription = &quot;Cake&quot;</b>
&nbsp;					)
<b class="nc">&nbsp;					Text(</b>
<b class="nc">&nbsp;						text = &quot;${Month.of(calendar.get(Calendar.MONTH))} &quot; +</b>
<b class="nc">&nbsp;								&quot;${calendar.get(Calendar.DAY_OF_MONTH)}, ${calendar.get(Calendar.YEAR)}&quot;,</b>
<b class="nc">&nbsp;						style = MaterialTheme.typography.bodySmall</b>
&nbsp;					)
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;			}</b>
&nbsp;
<b class="nc">&nbsp;			Spacer(modifier = Modifier.weight(1f))</b>
<b class="nc">&nbsp;			BuddyCardMenuButton(</b>
<b class="nc">&nbsp;				buddy = buddy,</b>
<b class="nc">&nbsp;				onPetDelete = onPetDelete</b>
&nbsp;			)
<b class="nc">&nbsp;		}</b>
&nbsp;	}
&nbsp;}
&nbsp;
&nbsp;@Composable
&nbsp;private fun BuddyCardMenuButton(
&nbsp;	buddy: PetInformation,
&nbsp;	onPetDelete: (String) -&gt; Unit
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;	Column {</b>
<b class="nc">&nbsp;		var menuExpanded by remember { mutableStateOf(false) }</b>
<b class="nc">&nbsp;		var deleteRequest by remember { mutableStateOf(false) }</b>
&nbsp;
<b class="nc">&nbsp;		IconButton(onClick = { menuExpanded = true }) {</b>
&nbsp;			Icon(imageVector = Icons.Default.MoreVert, contentDescription = &quot;&quot;)
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		DropdownMenu(expanded = menuExpanded, onDismissRequest = { menuExpanded = false }) {</b>
<b class="nc">&nbsp;			DropdownMenuItem(</b>
&nbsp;				text = { Text(text = &quot;Delete&quot;) },
<b class="nc">&nbsp;				onClick = {</b>
<b class="nc">&nbsp;					menuExpanded = false</b>
<b class="nc">&nbsp;					deleteRequest = true</b>
<b class="nc">&nbsp;				})</b>
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		if (deleteRequest) {</b>
<b class="nc">&nbsp;			ConfirmationAlert(</b>
<b class="nc">&nbsp;				modifier = Modifier.clip(RoundedCornerShape(5)),</b>
<b class="nc">&nbsp;				title = &quot;Delete&quot;,</b>
<b class="nc">&nbsp;				text = &quot;Are you sure you want to delete pet?&quot;,</b>
&nbsp;				onConfirm = {
<b class="nc">&nbsp;					onPetDelete(buddy.address)</b>
<b class="nc">&nbsp;					deleteRequest = !deleteRequest</b>
&nbsp;				},
<b class="nc">&nbsp;				onDismiss = {</b>
<b class="nc">&nbsp;					deleteRequest = !deleteRequest</b>
&nbsp;				}
&nbsp;			)
&nbsp;		}
<b class="nc">&nbsp;	}</b>
&nbsp;}
&nbsp;
&nbsp;@Composable
&nbsp;private fun ProfileOverlay(
&nbsp;	visible: Boolean,
<b class="nc">&nbsp;	onDismiss: () -&gt; Unit = {},</b>
<b class="nc">&nbsp;	dim: Float = 0.8f,</b>
&nbsp;	content: @Composable () -&gt; Unit = {}
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;	Box {</b>
<b class="nc">&nbsp;		AnimatedVisibility(</b>
<b class="nc">&nbsp;			visible = visible,</b>
<b class="nc">&nbsp;			enter = fadeIn(tween(500)),</b>
<b class="nc">&nbsp;			exit = fadeOut(tween(500))</b>
<b class="nc">&nbsp;		) {</b>
<b class="nc">&nbsp;			Box(</b>
<b class="nc">&nbsp;				modifier = Modifier</b>
<b class="nc">&nbsp;					.fillMaxSize()</b>
<b class="nc">&nbsp;					.background(Color(0f, 0f, 0f, dim))</b>
<b class="nc">&nbsp;					.pointerInput(Unit) {</b>
<b class="nc">&nbsp;						detectTapGestures {</b>
<b class="nc">&nbsp;							onDismiss()</b>
&nbsp;						}
&nbsp;					},
&nbsp;			)
&nbsp;		}
<b class="nc">&nbsp;		Column(</b>
<b class="nc">&nbsp;			modifier = Modifier</b>
<b class="nc">&nbsp;				.fillMaxSize(),</b>
&nbsp;//				.background(Color.Black)
&nbsp;//				.alpha(dim)
&nbsp;//				.pointerInput(Unit) {
&nbsp;//					detectTapGestures {
&nbsp;//						onDismiss()
&nbsp;//					}
&nbsp;//				},
<b class="nc">&nbsp;			horizontalAlignment = Alignment.CenterHorizontally,</b>
<b class="nc">&nbsp;			verticalArrangement = Arrangement.Center</b>
&nbsp;		) {
<b class="nc">&nbsp;			content()</b>
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;	}</b>
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;
&nbsp;@Preview
&nbsp;@Composable
<b class="nc">&nbsp;fun PreviewHomeScreen() {</b>
<b class="nc">&nbsp;	PenguinoTheme {</b>
&nbsp;		HomePage(
&nbsp;			uiState = HomeUiState(
&nbsp;				savedDevices = listOf(
&nbsp;					PetInformation(
&nbsp;						name = &quot;Ketchup&quot;,
&nbsp;						address = &quot;I can smell your bones&quot;,
&nbsp;					),
&nbsp;					PetInformation(
&nbsp;						name = &quot;Mayonaise&quot;,
&nbsp;						address = &quot;I can smell your bones&quot;
&nbsp;					)
&nbsp;				)
&nbsp;			)
&nbsp;		)
&nbsp;	}
<b class="nc">&nbsp;}</b>
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-08-24 12:14</div>
</div>
</body>
</html>
